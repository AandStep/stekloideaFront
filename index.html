<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Steklo Idea</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <section class="hero">
      <div class="container">
        <header class="hero__header">
          <div class="hero__logo">
            <img src="img/logo.svg" alt="StekloIdea" />
          </div>

          <nav class="hero__nav">
            <ul class="hero__nav-list">
              <li class="hero__nav-item">
                <a class="hero__nav-link" href="#catalog">Каталог</a>
              </li>
              <li class="hero__nav-item">
                <a class="hero__nav-link" href="#about">О нас</a>
              </li>
              <li class="hero__nav-item">
                <a class="hero__nav-link" href="#services">Услуги</a>
              </li>
              <li class="hero__nav-item">
                <a class="hero__nav-link" href="#request">Оставить заявку</a>
              </li>
              <li class="hero__nav-item">
                <a class="hero__nav-link" href="contacts.html">Контакты</a>
              </li>
            </ul>
          </nav>

          <a class="hero__phone" href="tel:+79082233390">+7 (908) 223-33-90</a>

          <button
            class="hero__burger"
            type="button"
            data-burger-open
            aria-label="Открыть меню"
          >
            <span class="hero__burger-line"></span>
            <span class="hero__burger-line"></span>
            <span class="hero__burger-line"></span>
          </button>
        </header>
      </div>

      <nav class="hero__burger-menu" data-burger-menu>
        <div class="hero__burger-menu-container">
          <div class="hero__burger-menu-header">
            <div class="hero__burger-menu-logo">
              <img src="img/logo.svg" alt="Steklo Idea" />
            </div>
            <button
              class="hero__burger-close"
              type="button"
              data-burger-close
              aria-label="Закрыть меню"
            >
              <span
                class="hero__burger-close-line hero__burger-close-line--first"
              ></span>
              <span
                class="hero__burger-close-line hero__burger-close-line--second"
              ></span>
            </button>
          </div>
          <ul class="hero__burger-menu-list">
            <li class="hero__burger-menu-item">
              <a class="hero__burger-menu-link" href="#catalog">Каталог</a>
            </li>
            <li class="hero__burger-menu-item">
              <a class="hero__burger-menu-link" href="#about">О нас</a>
            </li>
            <li class="hero__burger-menu-item">
              <a class="hero__burger-menu-link" href="#services">Услуги</a>
            </li>
            <li class="hero__burger-menu-item">
              <a class="hero__burger-menu-link" href="#request"
                >Оставить заявку</a
              >
            </li>
            <li class="hero__burger-menu-item">
              <a class="hero__burger-menu-link" href="contacts.html"
                >Контакты</a
              >
            </li>
          </ul>
          <a class="hero__burger-menu-phone" href="tel:+79082233390"
            >+7 (908) 223-33-90</a
          >
        </div>
      </nav>

      <div class="container">
        <div class="hero__content">
          <div class="hero__title">
            <h1 class="hero__title-line hero__title-line--small">
              Изготовление интерьерных<br />
              <span class="hero__title-line hero__title-line--large">
                зеркал и мебели
              </span>
            </h1>
          </div>

          <div class="hero__cta">
            <button class="hero__cta-button" type="button">
              Рассчитать стоимость
            </button>
          </div>
        </div>
      </div>
      <div class="hero__background">
        <div class="hero__background-image"></div>
      </div>
    </section>

    <section id="about" class="about">
      <div class="about__layout">
        <div class="about__gallery">
          <div class="about__gallery-grid">
            <div class="about__galery-row">
              <figure class="about__gallery-item about__gallery-item--tall">
                <img
                  src="img/about-1.webp"
                  alt="Интерьер с зеркалом у кровати"
                />
              </figure>
              <figure class="about__gallery-item about__gallery-item--tall">
                <img src="img/about-2.webp" alt="Зеркало в нише с подсветкой" />
                <!-- <div class="about__badge">
                  <p class="about__badge-text">
                    Зеркало по проекту Дарьи Демидовой.
                  </p>
                </div> -->
              </figure>
            </div>
            <div class="about__galery-row">
              <figure class="about__gallery-item">
                <img src="img/about-3.webp" alt="Зеркала в интерьере салона" />
              </figure>
              <figure class="about__gallery-item">
                <img
                  src="img/about-4.webp"
                  alt="Зеркала в офисном пространстве"
                />
              </figure>
              <figure class="about__gallery-item">
                <img
                  src="img/about-5.webp"
                  alt="Зеркала в современном интерьере"
                />
              </figure>
            </div>
          </div>
        </div>

        <div class="about__content">
          <h2 class="about__title title">О нас</h2>
          <div class="about__text-group">
            <p class="about__text">
              <span class="about__text-highlight">STEKLO&IDEA</span>
              <span>
                — это ведущий производитель интерьерных зеркал в Красноярске.
              </span>
            </p>
            <p class="about__text">
              Уже более 7 лет, мы предлагаем нашим клиентам прекрасные решения
              для дома и офиса.
            </p>
            <p class="about__text">
              Наши зеркала - это не просто предметы декора они являются
              настоящим произведением искусства, способным преобразить любое
              пространство, добавить ему стиль и уют.
            </p>
          </div>
        </div>
      </div>

      <div class="about__sphere about__sphere--large"></div>
      <div class="about__sphere about__sphere--small"></div>
    </section>

    <section id="services" class="services">
      <div class="services__container">
        <header class="services__header">
          <h2 class="services__title title">Наши услуги</h2>
          <p class="services__subtitle">
            Мы с радостью предлагаем три основных вида изделий: интерьерные
            зеркала, душевые перегородки и мебель в стиле лофт
          </p>
        </header>

        <div class="services__list">
          <article class="services__card services__card--mirrors">
            <div class="services__card-media">
              <div class="services__card-overlay">
                <h3 class="services__card-title">Интерьерные зеркала</h3>
                <p class="services__card-text">
                  Мы специализируемся на изготовлении интерьерных зеркал,
                  которые становятся настоящими украшениями любого пространства.
                  Каждое зеркало создается с вниманием к деталям и
                  индивидуальным подходом, чтобы соответствовать вашим
                  потребностям и стилю.
                </p>
              </div>
              <button class="services__card-button" type="button">
                Перейти в каталог
              </button>
            </div>
          </article>

          <article class="services__card services__card--showers">
            <div class="services__card-media">
              <div class="services__card-overlay">
                <h3 class="services__card-title">Душевые перегородки</h3>
                <p class="services__card-text">
                  Занимаемся установкой душевых перегородок, которые идеально
                  дополняют любой современный интерьер ванной комнаты. Мы
                  понимаем, что каждая ванная комната уникальна, поэтому
                  предлагаем гибкие решения, которые подчеркнут стиль вашего
                  интерьера, создавая открытую и лёгкую атмосферу.
                </p>
              </div>
              <button class="services__card-button" type="button">
                Перейти в каталог
              </button>
            </div>
          </article>

          <article class="services__card services__card--loft-furniture">
            <div class="services__card-media">
              <div class="services__card-overlay">
                <h3 class="services__card-title">Мебель лофт</h3>
                <p class="services__card-text">
                  Специализируемся на изготовлении мебели в стиле лофт, которая
                  привносит в любое пространство уникальное сочетание
                  индустриального шарма и комфорта. Мы используем
                  высококачественные материалы, такие как натуральное дерево,
                  металл и стекло.
                </p>
              </div>
              <button class="services__card-button" type="button">
                Перейти в каталог
              </button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="stages">
      <div class="stages__container container">
        <div class="stages__wrapper">
          <h2 class="stages__title title">Этапы работы</h2>
          <div class="stages__list">
            <article class="stages__card">
              <div class="stages__card-content">
                <div class="stages__card-icon">
                  <img src="img/stage-icon-1.svg" alt="Иконка консультации" />
                </div>
                <h3 class="stages__card-title">Консультируем</h3>
              </div>
              <div class="stages__card-number">
                <img src="img/stage-number-1.svg" alt="01" />
              </div>
            </article>

            <article class="stages__card stages__card--dark">
              <div class="stages__card-content">
                <div class="stages__card-icon">
                  <img src="img/stage-icon-2.svg" alt="Иконка подсчета" />
                </div>
                <h3 class="stages__card-title">
                  Предварительный <br />подсчет
                </h3>
              </div>
              <div class="stages__card-number">
                <img src="img/stage-number-2.svg" alt="02" />
              </div>
            </article>

            <article class="stages__card stages__card--full">
              <div class="stages__card-content">
                <div class="stages__card-icon">
                  <img src="img/stage-icon-3.svg" alt="Иконка оплаты аванса" />
                </div>
                <h3 class="stages__card-title">Оплачиваем <br />аванс</h3>
              </div>
              <div class="stages__card-number">
                <img src="img/stage-number-3.svg" alt="03" />
              </div>
            </article>

            <article class="stages__card stages__card--dark stages__card--full">
              <div class="stages__card-content">
                <div class="stages__card-icon">
                  <img
                    src="img/stage-icon-4.svg"
                    alt="Иконка доставки и монтажа"
                  />
                </div>
                <h3 class="stages__card-title">Доставляем <br />и монтируем</h3>
              </div>
              <div class="stages__card-number">
                <img src="img/stage-number-4.svg" alt="04" />
              </div>
            </article>

            <article class="stages__card stages__card--narrow">
              <div class="stages__card-content">
                <div class="stages__card-icon">
                  <img src="img/stage-icon-5.svg" alt="Иконка оплаты остатка" />
                </div>
                <h3 class="stages__card-title">Оплачиваем <br />остаток</h3>
              </div>
              <div class="stages__card-number">
                <img src="img/stage-number-5.svg" alt="05" />
              </div>
            </article>
          </div>
        </div>
      </div>
    </section>
    <section class="why-us">
      <div class="why-us__container container">
        <div class="container">
          <h2 class="why-us__title title">Почему мы?</h2>
        </div>
        <div class="why-us__card">
          <div class="why-us__logo">
            <img src="img/why-us-logo.svg" alt="Steklo Idea Logo" />
          </div>

          <div class="why-us__feature why-us__feature--first">
            <p class="why-us__feature-text">
              Занимаемся изготовлением зеркал более 7-ми лет
            </p>
          </div>

          <div
            class="why-us__feature why-us__feature--second why-us__feature--medium"
          >
            <p class="why-us__feature-text">
              Сотрудничаем более чем с сотней дизайнеров Красноярска
            </p>
          </div>

          <div class="why-us__image">
            <img src="img/why-us-people.webp" alt="Команда Steklo Idea" />
          </div>

          <div
            class="why-us__feature why-us__feature--third why-us__feature--large"
          >
            <p class="why-us__feature-text">
              Только уникальные проекты, никаких массовых производств
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="projects" class="projects">
      <div class="projects__header container">
        <h2 class="projects__title title">Наши проекты</h2>
      </div>

      <div class="projects__grid-wrapper">
        <div class="projects__column">
          <figure class="projects__item">
            <img
              src="img/project-1.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
          <figure class="projects__item">
            <img
              src="img/project-5.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
        </div>

        <div class="projects__column">
          <figure class="projects__item">
            <img
              src="img/project-2.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
          <figure class="projects__item">
            <img
              src="img/project-6.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
          <figure class="projects__item">
            <img
              src="img/project-7.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
        </div>

        <div class="projects__column">
          <figure class="projects__item">
            <img
              src="img/project-3.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
          <figure class="projects__item">
            <img
              src="img/project-8.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
        </div>

        <div class="projects__column">
          <figure class="projects__item">
            <img
              src="img/project-4.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
          <figure class="projects__item">
            <img
              src="img/project-10.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
          <figure class="projects__item">
            <img
              src="img/project-9.webp"
              alt="Проект интерьерного зеркала"
              class="projects__image"
            />
          </figure>
        </div>

        <button class="projects__button" type="button">Посмотреть все</button>

        <div class="projects__gradient-overlay"></div>
      </div>
    </section>

    <section id="request" class="calculation">
      <div class="container">
        <div class="calculation__wrapper">
          <div class="calculation__header">
            <h2 class="calculation__title title">Расчёт стоимости</h2>
            <p class="calculation__subtitle">
              Мы свяжемся с вами в ближайшее время, чтобы подробно обсудить ваши
              требования и сделать предварительный расчет, который поможет вам
              принять решение
            </p>
          </div>

          <form class="calculation__form" id="calculationForm" novalidate>
            <div class="calculation__fields">
              <div class="calculation__field-group">
                <input
                  type="text"
                  name="name"
                  class="calculation__input"
                  placeholder="Имя*"
                  required
                />
              </div>

              <div class="calculation__row">
                <div class="calculation__field-group">
                  <input
                    type="tel"
                    name="phone"
                    class="calculation__input"
                    placeholder="Телефон*"
                    required
                  />
                </div>
                <div class="calculation__field-group">
                  <input
                    type="email"
                    name="email"
                    class="calculation__input"
                    placeholder="Email"
                  />
                </div>
              </div>

              <div class="calculation__field-group">
                <textarea
                  name="comment"
                  class="calculation__input calculation__input--textarea"
                  placeholder="Комментарий"
                ></textarea>
              </div>
            </div>

            <div class="calculation__footer">
              <button class="calculation__button" type="submit">
                Рассчитать стоимость
              </button>
              <p class="calculation__agreement">
                Нажимая на кнопку вы подтверждаете, что ознакомлен (-ны) с
                <a href="#" class="calculation__link"
                  >политикой конфиденциальности</a
                >
                и даёте согласие на обработку персональных данных
              </p>
            </div>
          </form>
        </div>
      </div>
    </section>
    <section id="reviews" class="reviews">
      <div class="container">
        <div class="reviews__slider" id="reviewsSlider">
          <article class="reviews__slide reviews__slide--active">
            <div class="reviews__col-left">
              <h2 class="reviews__title title">Отзывы клиентов</h2>

              <div class="reviews__nav">
                <button
                  class="reviews__btn reviews__btn--prev"
                  type="button"
                  aria-label="Назад"
                >
                  <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                    <circle
                      cx="30"
                      cy="30"
                      r="29.5"
                      transform="matrix(-1 0 0 1 60 0)"
                      stroke="#EAEAEA"
                    />
                    <path
                      d="M34 22L26 30L34 38"
                      stroke="#484848"
                      stroke-width="1.5"
                    />
                  </svg>
                </button>
                <button
                  class="reviews__btn reviews__btn--next"
                  type="button"
                  aria-label="Вперед"
                >
                  <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                    <circle cx="30" cy="30" r="29.5" stroke="#EAEAEA" />
                    <path
                      d="M26 22L34 30L26 38"
                      stroke="#484848"
                      stroke-width="1.5"
                    />
                  </svg>
                </button>
              </div>

              <div class="reviews__card">
                <div class="reviews__content">
                  <blockquote class="reviews__text">
                    “Все быстро и классно, оформили соц-сети без лишних
                    объяснений поддержали фирменный стиль компании, спасибо за
                    оперативность”
                  </blockquote>

                  <div class="reviews__mobile-gallery">
                    <span class="reviews__gallery-label">Фото:</span>
                    <div class="reviews__thumbnails">
                      <button
                        type="button"
                        class="reviews__thumb-btn"
                        data-full-img="img/review-image.webp"
                      >
                        <img src="img/review-image.webp" alt="preview" />
                      </button>
                    </div>
                  </div>

                  <div class="reviews__footer">
                    <div class="reviews__author-block">
                      <cite class="reviews__author">Дмитрий Смородов</cite>
                      <span class="reviews__location">Адрес установки</span>
                    </div>
                    <a href="#" target="_blank" class="reviews__link">
                      <span>Больше отзывов в 2ГИС</span>
                      <img class="arrow" src="img/arrow-36.svg" alt="arrow" />
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <figure class="reviews__image-wrapper">
              <img
                src="img/review-image.webp"
                alt="Фото объекта"
                class="reviews__img"
              />
            </figure>
          </article>

          <article class="reviews__slide">
            <div class="reviews__col-left">
              <h2 class="reviews__title title">Отзывы клиентов</h2>

              <div class="reviews__nav">
                <button class="reviews__btn reviews__btn--prev" type="button">
                  <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                    <circle
                      cx="30"
                      cy="30"
                      r="29.5"
                      transform="matrix(-1 0 0 1 60 0)"
                      stroke="#EAEAEA"
                    />
                    <path
                      d="M34 22L26 30L34 38"
                      stroke="#484848"
                      stroke-width="1.5"
                    />
                  </svg>
                </button>
                <button class="reviews__btn reviews__btn--next" type="button">
                  <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                    <circle cx="30" cy="30" r="29.5" stroke="#EAEAEA" />
                    <path
                      d="M26 22L34 30L26 38"
                      stroke="#484848"
                      stroke-width="1.5"
                    />
                  </svg>
                </button>
              </div>

              <div class="reviews__card">
                <div class="reviews__content">
                  <blockquote class="reviews__text">
                    “Заказывали зеркало. Всё отлично, монтаж занял 30 минут.”
                  </blockquote>

                  <div class="reviews__mobile-gallery">
                    <span class="reviews__gallery-label">Фото:</span>
                    <div class="reviews__thumbnails">
                      <button
                        type="button"
                        class="reviews__thumb-btn"
                        data-full-img="img/project-10.webp"
                      >
                        <img src="img/project-10.webp" alt="preview" />
                      </button>
                    </div>
                  </div>

                  <div class="reviews__footer">
                    <div class="reviews__author-block">
                      <cite class="reviews__author">Анна Петрова</cite>
                      <span class="reviews__location">ЖК "Белые Росы"</span>
                    </div>
                    <a href="#" target="_blank" class="reviews__link">
                      <span>Больше отзывов в 2ГИС</span>
                      <img class="arrow" src="img/arrow-36.svg" alt="arrow" />
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <figure class="reviews__image-wrapper">
              <img
                src="img/project-10.webp"
                alt="Фото объекта"
                class="reviews__img"
              />
            </figure>
          </article>
        </div>
      </div>

      <div class="modal" id="imageModal" aria-hidden="true">
        <div class="modal__overlay" data-close-modal></div>
        <div class="modal__content">
          <button
            class="modal__close"
            type="button"
            data-close-modal
            aria-label="Закрыть"
          >
            <span class="modal__close-line modal__close-line--first"></span>
            <span class="modal__close-line modal__close-line--second"></span>
          </button>
          <img
            src=""
            alt="Полное изображение"
            class="modal__image"
            id="modalImage"
          />
        </div>
      </div>
    </section>
    <footer id="contacts" class="footer">
      <img
        src="img/logo.svg"
        alt=""
        aria-hidden="true"
        class="footer__bg-logo"
      />

      <div class="container footer__container">
        <div class="footer__content">
          <h2 class="footer__title">КОНТАКТЫ</h2>

          <div class="footer__grid">
            <div class="footer__col footer__col--contacts">
              <h3 class="footer__subtitle">Россия</h3>

              <div class="footer__contact-block">
                <span class="footer__company-name">STEKLO&IDEA</span>
                <address class="footer__address">
                  Красноярск, ул. Кольцевая, 5
                </address>
                <a href="tel:+79955721248" class="footer__contact-link"
                  >+7 (995) 572 12-48</a
                >
                <a href="mailto:qwerty@gmail.com" class="footer__contact-link"
                  >qwerty@gmail.com</a
                >
              </div>

              <div class="footer__socials">
                <a href="#" class="footer__social-link" aria-label="VK">
                  <img src="img/social-vk.svg" alt="VK" />
                </a>
                <a href="#" class="footer__social-link" aria-label="Telegram">
                  <img src="img/social-telegram.svg" alt="Telegram" />
                </a>
                <a href="#" class="footer__social-link" aria-label="Instagram">
                  <img src="img/social-inst.svg" alt="Instagram" />
                </a>
                <a href="#" class="footer__social-link" aria-label="WhatsApp">
                  <img src="img/social-whatsapp.svg" alt="WhatsApp" />
                </a>
              </div>
            </div>

            <div class="footer__col footer__col--links">
              <h3 class="footer__subtitle">Ссылки</h3>
              <nav class="footer__nav-grid">
                <ul class="footer__nav-list">
                  <li>
                    <a href="#catalog" class="footer__nav-link">Каталог</a>
                  </li>
                  <li><a href="#about" class="footer__nav-link">О НАС</a></li>
                  <li>
                    <a href="#services" class="footer__nav-link">НАШИ УСЛУГИ</a>
                  </li>
                </ul>
                <ul class="footer__nav-list">
                  <li>
                    <a href="#projects" class="footer__nav-link"
                      >НАШИ ПРОЕКТЫ</a
                    >
                  </li>
                  <li>
                    <a href="#stages" class="footer__nav-link">Этапы работы</a>
                  </li>
                  <li>
                    <a href="#why-us" class="footer__nav-link">Почему мы?</a>
                  </li>
                </ul>
                <ul class="footer__nav-list">
                  <li>
                    <a href="#reviews" class="footer__nav-link">Отзывы</a>
                  </li>
                  <li>
                    <a href="#request" class="footer__nav-link"
                      >Расчёт стоимости</a
                    >
                  </li>
                  <li>
                    <a href="contacts.html" class="footer__nav-link"
                      >КОНТАКТЫ</a
                    >
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>

        <div class="footer__bottom">
          <div class="footer__dev-block">
            <span class="footer__copyright-text">Разработка и поддержка</span>
            <a href="#" class="footer__dev-logo">
              <img src="img/dev-logo.svg" alt="Result" />
            </a>
          </div>
          <div class="footer__copyright">
            <span class="footer__copyright-text"
              >Copyright by STEKLO&IDEA @2022-2025</span
            >
          </div>
        </div>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // --- Slider Logic ---
        const slider = document.getElementById("reviewsSlider");
        if (slider) {
          const slides = slider.querySelectorAll(".reviews__slide");
          const btnPrev = slider.querySelector(".reviews__btn--prev"); // Ищем кнопки внутри слайдера или глобально
          const btnNext = slider.querySelector(".reviews__btn--next");
          // ВАЖНО: Так как кнопки теперь внутри каждого слайда (в верстке выше я их продублировал для примера,
          // но правильнее вынести навигацию наружу или вешать события на все кнопки)
          // ДЛЯ ПРОСТОТЫ: В этом коде я предполагаю, что кнопки переключают слайды глобально.

          // Если кнопки внутри каждого слайда, то нужно вешать обработчики делегированием
          slider.addEventListener("click", function (e) {
            const btn = e.target.closest(".reviews__btn");
            if (!btn) return;

            if (btn.classList.contains("reviews__btn--prev")) {
              changeSlide(-1);
            } else if (btn.classList.contains("reviews__btn--next")) {
              changeSlide(1);
            }
          });

          let currentIndex = 0;
          let isAnimating = false;

          function changeSlide(direction) {
            if (isAnimating) return;
            isAnimating = true;

            slides[currentIndex].classList.remove("reviews__slide--active");

            currentIndex += direction;
            if (currentIndex < 0) currentIndex = slides.length - 1;
            if (currentIndex >= slides.length) currentIndex = 0;

            slides[currentIndex].classList.add("reviews__slide--active");

            setTimeout(() => (isAnimating = false), 500);
          }

          // Touch Swipe
          let touchStartX = 0;
          slider.addEventListener(
            "touchstart",
            (e) => (touchStartX = e.changedTouches[0].screenX),
            { passive: true }
          );
          slider.addEventListener(
            "touchend",
            (e) => {
              const diff = e.changedTouches[0].screenX - touchStartX;
              if (Math.abs(diff) > 50) changeSlide(diff > 0 ? -1 : 1);
            },
            { passive: true }
          );
        }

        // --- Modal Logic ---
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImage");
        const closeElements = document.querySelectorAll("[data-close-modal]");

        if (modal && slider) {
          // Делегирование события клика на миниатюры
          slider.addEventListener("click", function (e) {
            const thumbBtn = e.target.closest(".reviews__thumb-btn");
            if (thumbBtn) {
              const imgSrc = thumbBtn.getAttribute("data-full-img");
              if (imgSrc) {
                modalImg.src = imgSrc;
                modal.classList.add("modal--open");
                document.body.style.overflow = "hidden"; // Блокируем скролл страницы
              }
            }
          });

          // Закрытие модалки
          closeElements.forEach((el) => {
            el.addEventListener("click", () => {
              modal.classList.remove("modal--open");
              document.body.style.overflow = "";
            });
          });

          // Закрытие по ESC
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && modal.classList.contains("modal--open")) {
              modal.classList.remove("modal--open");
              document.body.style.overflow = "";
            }
          });
        }
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("calculationForm");

        if (!form) return;

        // --- 1. Модуль уведомлений ---
        const notificationSystem = {
          container: null,

          init() {
            // Создаем контейнер для уведомлений, если его нет
            this.container = document.createElement("div");
            this.container.className = "notification-container";
            document.body.appendChild(this.container);
          },

          show(message, type = "success") {
            if (!this.container) this.init();

            // Создаем элемент уведомления
            const toast = document.createElement("div");
            toast.className = `notification notification--${type}`;

            // Иконки SVG
            const iconSVG =
              type === "success"
                ? `<svg viewBox="0 0 24 24" fill="none" stroke="#4CAF50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>`
                : `<svg viewBox="0 0 24 24" fill="none" stroke="#FF5252" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>`;

            toast.innerHTML = `
        <div class="notification__icon">${iconSVG}</div>
        <div class="notification__text">${message}</div>
      `;

            this.container.appendChild(toast);

            // Анимация появления (небольшая задержка для срабатывания transition)
            requestAnimationFrame(() => {
              toast.classList.add("notification--visible");
            });

            // Удаление через 4 секунды
            setTimeout(() => {
              toast.classList.remove("notification--visible");
              toast.addEventListener("transitionend", () => {
                toast.remove();
              });
            }, 4000);
          },
        };

        notificationSystem.init();

        // --- 2. Маска для телефона ---
        const phoneInput = form.querySelector('input[name="phone"]');
        if (phoneInput) {
          phoneInput.addEventListener("input", function (e) {
            let x = e.target.value
              .replace(/\D/g, "")
              .match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);
            if (!x[2]) {
              e.target.value = x[1] ? "+7" : "";
              return;
            }
            e.target.value = !x[2]
              ? x[1]
              : "+7 (" +
                x[2] +
                (x[3] ? ") " + x[3] : "") +
                (x[4] ? "-" + x[4] : "") +
                (x[5] ? "-" + x[5] : "");
          });
        }

        // --- 3. Валидация Email ---
        const validateEmail = (email) => {
          return String(email)
            .toLowerCase()
            .match(
              /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
            );
        };

        // --- 4. Обработка формы ---
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          let isValid = true;

          const inputs = form.querySelectorAll(
            "input[required], textarea[required]"
          );
          const emailInput = form.querySelector('input[name="email"]');

          // Сброс стилей ошибок
          form
            .querySelectorAll(".calculation__input")
            .forEach((el) => el.classList.remove("error"));

          // Проверка обязательных полей
          inputs.forEach((input) => {
            if (!input.value.trim()) {
              input.classList.add("error");
              isValid = false;
            }
          });

          // Проверка телефона (минимум 11 цифр)
          if (phoneInput && phoneInput.value.replace(/\D/g, "").length < 11) {
            phoneInput.classList.add("error");
            notificationSystem.show(
              "Введите корректный номер телефона",
              "error"
            );
            isValid = false;
          }

          // Проверка Email (если поле заполнено, но формат неверен)
          if (emailInput && emailInput.value.trim() !== "") {
            if (!validateEmail(emailInput.value)) {
              emailInput.classList.add("error");
              notificationSystem.show("Неверный формат Email", "error");
              isValid = false;
            }
          }

          if (isValid) {
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerText;

            submitBtn.innerText = "Отправка...";
            submitBtn.disabled = true;

            // Имитация отправки на сервер
            setTimeout(() => {
              notificationSystem.show(
                "Заявка успешно отправлена! Мы скоро свяжемся с вами.",
                "success"
              );
              form.reset();
              submitBtn.innerText = originalText;
              submitBtn.disabled = false;
            }, 1500);
          } else {
            // Если есть ошибки, но не специфичные (например, просто пустые поля), показываем общее уведомление
            // (Чтобы не дублировать уведомления, проверяем, не показали ли мы уже конкретную ошибку выше)
            const hasVisibleErrors = document.querySelector(
              ".notification--visible"
            );
            if (!hasVisibleErrors) {
              notificationSystem.show("Заполните обязательные поля", "error");
            }
          }
        });
      });
    </script>
    <script>
      const heroBurgerOpenButton = document.querySelector("[data-burger-open]");
      const heroBurgerCloseButton = document.querySelector(
        "[data-burger-close]"
      );
      const heroBurgerMenu = document.querySelector("[data-burger-menu]");
      const heroBurgerMenuLinks = document.querySelectorAll(
        ".hero__burger-menu-link"
      );

      if (heroBurgerOpenButton && heroBurgerCloseButton && heroBurgerMenu) {
        heroBurgerOpenButton.addEventListener("click", function () {
          heroBurgerMenu.classList.add("hero__burger-menu--open");
        });

        heroBurgerCloseButton.addEventListener("click", function () {
          heroBurgerMenu.classList.remove("hero__burger-menu--open");
        });

        heroBurgerMenuLinks.forEach(function (link) {
          link.addEventListener("click", function () {
            heroBurgerMenu.classList.remove("hero__burger-menu--open");
          });
        });

        document.addEventListener("keydown", function (event) {
          if (event.key === "Escape") {
            heroBurgerMenu.classList.remove("hero__burger-menu--open");
          }
        });
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const projectsWrapper = document.querySelector(
          ".projects__grid-wrapper"
        );
        // Выбираем только видимые колонки, чтобы не считать скрытые через display: none

        if (!projectsWrapper) return;

        // Функция расчета высоты
        const adjustHeight = () => {
          const columns = Array.from(
            projectsWrapper.querySelectorAll(".projects__column")
          );

          // Фильтруем колонки, которые реально отображаются (grid-template может их скрывать)
          // Или проверяем offsetParent (null если скрыт)
          const visibleColumns = columns.filter(
            (col) => col.offsetParent !== null
          );

          if (visibleColumns.length === 0) return;

          // Находим высоту самой короткой колонки
          let minHeight = Infinity;
          visibleColumns.forEach((col) => {
            const h = col.getBoundingClientRect().height;
            if (h < minHeight) minHeight = h;
          });

          if (minHeight !== Infinity && minHeight > 0) {
            // Устанавливаем высоту враппера = высоте самой короткой колонки
            // Вычитаем немного (например, gap), чтобы срез был чистым
            projectsWrapper.style.height = `${minHeight}px`;
          }
        };

        // 1. Используем ResizeObserver для отслеживания изменений размера КОЛОНОК
        // Это круче чем window.resize, так как реагирует и на загрузку картинок
        const resizeObserver = new ResizeObserver((entries) => {
          // Оборачиваем в requestAnimationFrame для производительности
          window.requestAnimationFrame(() => {
            adjustHeight();
          });
        });

        // Начинаем следить за каждой колонкой
        const allColumns =
          projectsWrapper.querySelectorAll(".projects__column");
        allColumns.forEach((col) => resizeObserver.observe(col));

        // На всякий случай запускаем один раз принудительно (для кэшированных картинок)
        adjustHeight();

        // Дополнительная страховка для картинок (если ResizeObserver тупит в старых браузерах)
        const images = projectsWrapper.querySelectorAll("img");
        images.forEach((img) => {
          img.addEventListener("load", adjustHeight);
        });
      });
    </script>
  </body>
</html>
